

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Upgrading to a new version of Ergo &mdash; Ergo  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="../features/index.html" />
    <link rel="prev" title="Using valid TLS certificates" href="tls_certificates.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Ergo
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="windows.html">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="unix_like.html">macOS / Linux / Raspberry Pi</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="building_from_source.html">Building from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="becoming_an_operator.html">Becoming an operator</a></li>
<li class="toctree-l2"><a class="reference internal" href="rehashing.html">Rehashing</a></li>
<li class="toctree-l2"><a class="reference internal" href="environment_variables.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="productionizing.html">Productionizing with systemd</a></li>
<li class="toctree-l2"><a class="reference internal" href="tls_certificates.html">Using valid TLS certificates</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Upgrading to a new version of Ergo</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Ergo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Installing</a> &raquo;</li>
        
      <li>Upgrading to a new version of Ergo</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/installing/upgrading.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="upgrading-to-a-new-version-of-ergo">
<h1>Upgrading to a new version of Ergo<a class="headerlink" href="#upgrading-to-a-new-version-of-ergo" title="Permalink to this headline">¶</a></h1>
<p>As long as you are using official releases or release candidates of
Ergo, any backwards-incompatible changes should be described in the
changelog.</p>
<p>In general, the config file format should be fully backwards and
forwards compatible. Unless otherwise noted, no config file changes
should be necessary when upgrading Ergo. However, the “config changes”
section of the changelog will typically describe new sections that can
be added to your config to enable new functionality, as well as changes
in the recommended values of certain fields.</p>
<p>The database is versioned; upgrades that involve incompatible changes to
the database require updating the database. If you have
<code class="docutils literal notranslate"><span class="pre">datastore.autoupgrade</span></code> enabled in your config, the database will be
backed up and upgraded when you restart your server when required.
Otherwise, you can apply upgrades manually:</p>
<ol class="arabic simple">
<li><p>Stop your server</p></li>
<li><p>Make a backup of your database file</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">ergo</span> <span class="pre">upgradedb</span></code> (from the same working directory and with the
same arguments that you would use when running <code class="docutils literal notranslate"><span class="pre">ergo</span> <span class="pre">run</span></code>)</p></li>
<li><p>Start the server again</p></li>
</ol>
<p>If you want to run our master branch as opposed to our releases, come
find us in our channel and we can guide you around any potential
pitfalls.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../features/index.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="tls_certificates.html" class="btn btn-neutral float-left" title="Using valid TLS certificates" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Shivaram Lingamneni, Daniel Oaks.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>